<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>For My Favorite Person</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/ScrollTrigger.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Quicksand:wght@300;500&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-pink: #ffafcc;
            --soft-white: #fdfcf0;
            --accent-rose: #ff8fab;
            --night-sky: #0b132b;
        }

        body {
            margin: 0; padding: 0;
            background-color: var(--soft-white);
            font-family: 'Quicksand', sans-serif;
            overflow-x: hidden;
            color: #4a4a4a;
        }

        /* 1. Calendar Section */
        .calendar-section {
            height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            background: var(--primary-pink);
            flex-direction: column;
            position: relative;
        }

        .calendar-card {
            background: white;
            width: 250px;
            height: 300px;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
            text-align: center;
            border: 5px solid white;
        }

        .cal-header { background: #d90429; color: white; padding: 15px; font-weight: bold; font-size: 1.5rem; }
        .cal-day { font-size: 8rem; font-weight: 700; color: #333; margin-top: 20px; }

        /* 2. Star Map Section */
        .star-map-section {
            height: 150vh;
            background: var(--night-sky);
            position: relative;
            overflow: hidden;
        }

        .star {
            position: absolute;
            background: white;
            border-radius: 50%;
            opacity: 0.5;
        }

        .star-text {
            position: sticky;
            top: 40%;
            text-align: center;
            color: white;
            font-family: 'Dancing Script';
            font-size: 3rem;
            z-index: 5;
            width: 100%;
        }

        /* Reusing previous styles for Polaroid/Mailbox */
        .hero { height: 100vh; display: flex; flex-direction: column; justify-content: center; align-items: center; text-align: center; background: var(--soft-white); }
        .hero h1 { font-family: 'Dancing Script', cursive; font-size: 4rem; color: var(--accent-rose); }
        .polaroid { background: white; padding: 15px 15px 50px 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); position: absolute; opacity: 0; max-width: 280px; }
        .photo-section { height: 500vh; position: relative; background: #ffe5ec; }
        .photo-container { position: sticky; top: 0; height: 100vh; display: flex; justify-content: center; align-items: center; }
        .mailbox-section { height: 100vh; display: flex; justify-content: center; align-items: center; background: var(--primary-pink); }
        .note-popup { display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: white; padding: 40px; border-radius: 20px; z-index: 1000; width: 80%; max-width: 500px; }
    </style>
</head>
<body>

    <section class="calendar-section">
        <div class="calendar-card">
            <div class="cal-header">FEBRUARY</div>
            <div class="cal-day" id="day-counter">1</div>
        </div>
        <h2 id="wait-text" style="margin-top: 20px; color: white;">Something special is coming...</h2>
    </section>

    <section class="hero">
        <h1 id="wish-text">Happy Birthday to the most<br>special person in my life! ðŸŽ‚</h1>
    </section>

    <section class="star-map-section">
        <div class="star-text" id="constellation-text">The stars aligned for us...</div>
        <div id="star-container"></div>
    </section>

    <section class="photo-section">
        <div class="photo-container">
            <div class="polaroid"><img src="https://via.placeholder.com/250x300" width="100%"><div class="caption">Memory 1</div></div>
            <div class="polaroid"><img src="https://via.placeholder.com/250x300" width="100%"><div class="caption">Memory 2</div></div>
            </div>
    </section>

    <section class="mailbox-section">
        <div style="font-size: 5rem; cursor: pointer;" onclick="openNote()">ðŸ“¬</div>
    </section>

    <div class="note-popup" id="note">
        <h2 style="font-family: 'Dancing Script';">My Letter to You</h2>
        <p>Your beautiful birthday note goes here...</p>
        <button onclick="closeNote()">Close</button>
    </div>

    <script>
        gsap.registerPlugin(ScrollTrigger);

        // 1. Calendar Animation
        let dayObj = { val: 1 };
        gsap.to(dayObj, {
            val: 9,
            duration: 3,
            ease: "power1.inOut",
            onUpdate: () => {
                document.getElementById('day-counter').innerText = Math.floor(dayObj.val);
            },
            onComplete: () => {
                gsap.to(".calendar-section", { opacity: 0, display: "none", delay: 1 });
            }
        });

        // 2. Star Map Generation
        const container = document.getElementById('star-container');
        for (let i = 0; i < 150; i++) {
            const star = document.createElement('div');
            star.className = 'star';
            const size = Math.random() * 3 + 'px';
            star.style.width = size;
            star.style.height = size;
            star.style.left = Math.random() * 100 + 'vw';
            star.style.top = Math.random() * 100 + 'vh';
            container.appendChild(star);
        }

        // Star Movement on Scroll
        gsap.to(".star", {
            scrollTrigger: {
                trigger: ".star-map-section",
                scrub: 1
            },
            y: (i) => -Math.random() * 400,
            opacity: 1
        });

        // 3. Photo Scroll (Apple Style)
        const pics = gsap.utils.toArray('.polaroid');
        pics.forEach((pic, i) => {
            gsap.to(pic, {
                scrollTrigger: {
                    trigger: ".photo-section",
                    start: `${i * 20}% top`,
                    end: `${(i + 1) * 20}% top`,
                    scrub: true
                },
                opacity: 1,
                scale: 1.1,
                rotation: i % 2 === 0 ? 8 : -8,
                zIndex: i
            });
        });

        function openNote() { document.getElementById('note').style.display = 'block'; }
        function closeNote() { document.getElementById('note').style.display = 'none'; }
    </script>
</body>
</html>
